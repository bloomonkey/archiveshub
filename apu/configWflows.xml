<?xml version="1.0" encoding="UTF-8"?>
<config>
	<subConfigs>
	
		<subConfig type="workflow" id="taskWorkflow">
			<objectType>workflow.CachingWorkflow</objectType>
			<workflow>
				<fork>
					<split id="taskOne">
						<object type="xpathProcessor" ref="taskOneXPath"/>
						<object type="extractor" ref="TaggedTermExtractor"/>
						<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
						<fork>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="2GramTokenMerger"/>					
								<object type="index" ref="taskOne-2gram-idx"/>
							</split>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="3GramTokenMerger"/>
								<object type="index" ref="taskOne-3gram-idx"/>
							</split>
						</fork>
						<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
						<fork>
							<split>
								
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="normalizer" ref="PossessiveNormalizer"/>
								<object type="index" ref="taskOne-idx"/>
							</split>
							<!--
							
							<split>
								<object type="normalizer" ref="StemNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stem"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-pos"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenizer" ref="PlusTokenizer"/>
								<object type="tokenMerger" ref="ProxTokenMerger"/>
								<object type="index" ref="TISC-idx-pos-single"/>
							</split>
							<split>
								<object type="normalizer" ref="WordPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-wordpos"/>
							</split>
							<split>
								<object type="normalizer" ref="StemPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stempos"/>
							</split>
						-->
						</fork>					
					</split>	
					<split id="taskTwo">
						<object type="xpathProcessor" ref="taskTwoXPath"/>
						<object type="extractor" ref="TaggedTermExtractor"/>
						<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
						<fork>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="2GramTokenMerger"/>					
								<object type="index" ref="taskTwo-2gram-idx"/>
							</split>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="3GramTokenMerger"/>
								<object type="index" ref="taskTwo-3gram-idx"/>
							</split>
						</fork>
						<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
						<fork>
							<split>
								
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="normalizer" ref="PossessiveNormalizer"/>
								<object type="index" ref="taskTwo-idx"/>
							</split>
							<!--
							
							<split>
								<object type="normalizer" ref="StemNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stem"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-pos"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenizer" ref="PlusTokenizer"/>
								<object type="tokenMerger" ref="ProxTokenMerger"/>
								<object type="index" ref="TISC-idx-pos-single"/>
							</split>
							<split>
								<object type="normalizer" ref="WordPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-wordpos"/>
							</split>
							<split>
								<object type="normalizer" ref="StemPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stempos"/>
							</split>
						-->
						</fork>					
					</split>	
					<split id="taskFour">
						<object type="xpathProcessor" ref="taskFourXPath"/>
						<object type="extractor" ref="TaggedTermExtractor"/>
						<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
						<fork>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="2GramTokenMerger"/>					
								<object type="index" ref="taskFour-2gram-idx"/>
							</split>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="3GramTokenMerger"/>
								<object type="index" ref="taskFour-3gram-idx"/>
							</split>
						</fork>
						<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
						<fork>
							<split>
								
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="normalizer" ref="PossessiveNormalizer"/>
								<object type="index" ref="taskFour-idx"/>
							</split>
							<!--
							
							<split>
								<object type="normalizer" ref="StemNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stem"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-pos"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenizer" ref="PlusTokenizer"/>
								<object type="tokenMerger" ref="ProxTokenMerger"/>
								<object type="index" ref="TISC-idx-pos-single"/>
							</split>
							<split>
								<object type="normalizer" ref="WordPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-wordpos"/>
							</split>
							<split>
								<object type="normalizer" ref="StemPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stempos"/>
							</split>
						-->
						</fork>					
					</split>	
					<split id="taskFive">
						<object type="xpathProcessor" ref="taskFiveXPath"/>
						<object type="extractor" ref="TaggedTermExtractor"/>
						<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
						<fork>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="2GramTokenMerger"/>					
								<object type="index" ref="taskFive-2gram-idx"/>
							</split>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="3GramTokenMerger"/>
								<object type="index" ref="taskFive-3gram-idx"/>
							</split>
						</fork>
						<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
						<fork>
							<split>
								
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="normalizer" ref="PossessiveNormalizer"/>
								<object type="index" ref="taskFive-idx"/>
							</split>
							<!--
							
							<split>
								<object type="normalizer" ref="StemNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stem"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-pos"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenizer" ref="PlusTokenizer"/>
								<object type="tokenMerger" ref="ProxTokenMerger"/>
								<object type="index" ref="TISC-idx-pos-single"/>
							</split>
							<split>
								<object type="normalizer" ref="WordPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-wordpos"/>
							</split>
							<split>
								<object type="normalizer" ref="StemPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stempos"/>
							</split>
						-->
						</fork>					
					</split>	
					<split id="taskSix">
						<object type="xpathProcessor" ref="taskSixXPath"/>
						<object type="extractor" ref="TaggedTermExtractor"/>
						<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
						<fork>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="2GramTokenMerger"/>					
								<object type="index" ref="taskSix-2gram-idx"/>
							</split>
							<split>
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenMerger" ref="3GramTokenMerger"/>
								<object type="index" ref="taskSix-3gram-idx"/>
							</split>
						</fork>
						<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
						<fork>
							<split>
								
								<object type="normalizer" ref="WordNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="normalizer" ref="PossessiveNormalizer"/>
								<object type="index" ref="taskSix-idx"/>
							</split>
							<!--
							
							<split>
								<object type="normalizer" ref="StemNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stem"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-pos"/>
							</split>
							<split>
								<object type="normalizer" ref="PosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="tokenizer" ref="PlusTokenizer"/>
								<object type="tokenMerger" ref="ProxTokenMerger"/>
								<object type="index" ref="TISC-idx-pos-single"/>
							</split>
							<split>
								<object type="normalizer" ref="WordPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-wordpos"/>
							</split>
							<split>
								<object type="normalizer" ref="StemPosNamedNormalizer"/>
								<object type="normalizer" ref="CaseNormalizer"/>
								<object type="index" ref="TISC-idx-stempos"/>
							</split>
						-->
						</fork>					
					</split>	
				</fork>
			</workflow>						
		</subConfig>
	
	
				
		<subConfig type="workflow" id="ngramWorkflow">
			<objectType>workflow.CachingWorkflow</objectType>
			<workflow>
				<object type="normalizer" ref="WordNamedNormalizer"/>
				<object type="normalizer" ref="CaseNormalizer"/>
				<fork>
					<split>
						<object type="tokenMerger" ref="2GramTokenMerger"/>
						<object type="index" ref="2gram-idx"/>
					</split>
					<split>
						<object type="tokenMerger" ref="3GramTokenMerger"/>
						<object type="index" ref="3gram-idx"/>
					</split>
					<split>
						<object type="tokenMerger" ref="4GramTokenMerger"/>
						<object type="index" ref="4gram-idx"/>
					</split>
					<split>
						<object type="tokenMerger" ref="5GramTokenMerger"/>
						<object type="index" ref="5gram-idx"/>
					</split>
				</fork>
			</workflow>
		</subConfig>
	
	
	
		<subConfig type="workflow" id="articleWorkflow">
			<objectType>workflow.CachingWorkflow</objectType>
			<workflow>
				<object type="xpathProcessor" ref="articleXPath"/>
				<object type="extractor" ref="TaggedTermExtractor"/>
				<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
				<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
				<fork>
					<split id="word">
						<object type="normalizer" ref="WordNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="normalizer" ref="PossessiveNormalizer"/>
						<object type="index" ref="article-idx"/>
					</split>
					<!-- 
					<split id="stem">
						<object type="normalizer" ref="StemNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="article-idx-stem"/>
					</split>
					<split id="pos">
						<object type="normalizer" ref="PosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<fork>
							<split>
								<object type="index" ref="article-idx-pos"/>
							</split>
						</fork>
						<object type="tokenizer" ref="PlusTokenizer"/>
						<object type="tokenMerger" ref="ProxTokenMerger"/>
						<object type="index" ref="article-idx-pos-single"/>
					</split>
					<split id="wordpos">
						<object type="normalizer" ref="WordPosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="article-idx-wordpos"/>
					</split>
					<split id="stempos">
						<object type="normalizer" ref="StemPosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="article-idx-stempos"/>
					</split>
					-->
				</fork>
			</workflow>
		</subConfig>

	

		<subConfig type="workflow" id="paragraphWorkflow">
			<objectType>workflow.CachingWorkflow</objectType>
			<workflow>
				<object type="xpathProcessor" ref="paragraphXPath"/>
				<object type="extractor" ref="TaggedTermExtractor"/>
				<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
				<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
				<fork>
					<split id="word">
						<object type="normalizer" ref="WordNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="normalizer" ref="PossessiveNormalizer"/>
						<object type="index" ref="paragraph-idx"/>
					</split>
					<!-- 
					<split id="stem">
						<object type="normalizer" ref="StemNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="paragraph-idx-stem"/>
					</split>
					<split id="pos">
						<object type="normalizer" ref="PosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<fork>
							<split>
								<object type="index" ref="paragraph-idx-pos"/>
							</split>
						</fork>
						<object type="tokenizer" ref="PlusTokenizer"/>
						<object type="tokenMerger" ref="ProxTokenMerger"/>
						<object type="index" ref="paragraph-idx-pos-single"/>
					</split>
					<split id="wordpos">
						<object type="normalizer" ref="WordPosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="paragraph-idx-wordpos"/>
					</split>
					<split id="stempos">
						<object type="normalizer" ref="StemPosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="paragraph-idx-stempos"/>
					</split>
					-->
				</fork>
			</workflow>
		</subConfig>



		
		<subConfig type="workflow" id="sentenceWorkflow">
			<objectType>workflow.CachingWorkflow</objectType>
			<workflow>
				<object type="xpathProcessor" ref="sentenceXPath"/>
				<object type="extractor" ref="TaggedTermExtractor"/>
				<object type="tokenizer" ref="SuppliedOffsetTokenizer"/>
				<fork>
					<split>
						<object type="workflow" ref="ngramWorkflow"/>
					</split>
				</fork>
				<object type="tokenMerger" ref="OffsetProxTokenMerger"/>
				<fork>
					<split id="word">
						<object type="normalizer" ref="WordNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="normalizer" ref="PossessiveNormalizer"/>
						<object type="index" ref="sentence-idx"/>
					</split>
				<!-- 	
					<split id="stem">
						<object type="normalizer" ref="StemNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="sentence-idx-stem"/>
					</split>
				
					<split id="pos">
						<object type="normalizer" ref="PosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<fork>
							<split>
								<object type="index" ref="sentence-idx-pos"/>
							</split>
						</fork>
						<object type="tokenizer" ref="PlusTokenizer"/>
						<object type="tokenMerger" ref="ProxTokenMerger"/>
						<object type="index" ref="sentence-idx-pos-single"/>
					</split>
					<split id="wordpos">
						<object type="normalizer" ref="WordPosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="sentence-idx-wordpos"/>
					</split>
					<split id="stempos">
						<object type="normalizer" ref="StemPosNamedNormalizer"/>
						<object type="normalizer" ref="CaseNormalizer"/>
						<object type="index" ref="sentence-idx-stempos"/>
					</split>
					 -->
				</fork>
			</workflow>
		</subConfig>
		
		
		<subConfig type="workflow" id="indexWorkflow">
			<objectType>workflow.CachingWorkflow</objectType>
			<assign from="input.id" to="recid" />
			<workflow>
				<fork>
					<split>
						<log>"Indexing Record "</log>
						<object type="workflow" ref="sentenceWorkflow"/>
					</split>
					<split>
						<object type="workflow" ref="taskWorkflow"/>
					</split>
					<split>
						<object type="workflow" ref="paragraphWorkflow"/>
					</split>
					<split>
						<object type="workflow" ref="articleWorkflow"/>
					</split>
				</fork>
			</workflow>
		</subConfig>
	</subConfigs>
</config>
