<div id="single" class="help">
	<h3 class="bar">Contents</h3>
	<div id="contents">
		<ul>
			<li>
				<a href="#menu" title="Jump to help on the data creation and editing menu">Data Creation and Editing Menu</a>
				<ul>
					<li>
						<a href="#create" title="Jump to help on creating a new file">Creating a New File</a>
					</li>
					<li>
						<a href="#existing" title="Jump to help on editing an existing file">Editing an Existing File</a>
						<ul>
							<li>
								<a href="#datadir" title="Jump to help on editing files from the database">Editing Files from the Database</a>
							</li>
							<li>
								<a href="#draft" title="Jump to help on editing files from the draft file store">Editing Files from the Draft File Store</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#draftops" title="Jump to help on the user operations in the draft file store">Draft File Store User Operations</a>
						<li>	
							<a href="#draftdel" title="Jump to help on deleting draft files">Deleting Draft Files</a>
						</li>
						<li>
							<a href="#draftassign" title="Jump to help on reassigning draft files">Reassigning Draft Files (Administrative Users Only)</a>
						</li>
					</li>
				</ul>
			</li>
			
			<li>
				<a href="#form" title="Jump to help on using the form">Using the Editing and Creation Form</a>
				<ul>
					<li>
						<a href="#file" title="Jump to help on file operations">File Operations</a>
						<ul>
							<li>
								<a href="#save" title="Jump to help on saving the file">Save File</a>
							</li>
							<li>
								<a href="#delete" title="Jump to help on deleting the file">Delete File</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#preview" title="Jump to help on preview operations">Preview Operations</a>
						<ul>
							<li>
								<a href="#xml" title="Jump to help on previewing the XML">Preview XML</a>
							</li>
							<li>
								<a href="#online" title="Jump to help on previewing the on-line version">Preview On-line Version</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#export" title="Jump to help on export operations">Export Operations</a>
						<ul>
							<li>
								<a href="#file" title="Jump to help on exporting the exporting the description to file ">Export to File Only</a>
							</li>
							<li>
								<a href="#database" title="Jump to help on exporting the description to the database and to file">Export to Database and File</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#navtree" title="Jump to help on navigating through a description">Navigating through a Description</a>
					</li>
					<li>
						<a href="#complete" title="Jump to help on completing the form">Completing the Form</a>
					</li>					
					<li>
						<a href="#addcomp" title="Jump to help on adding components">Adding Components</a>
					</li>
					<li>
						<a href="#delcomp" title="Jump to help on deleting components">Deleting Components</a>
					</li>
					<li>
						<a href="#dao" title="Jump to help on adding digital object links">Adding Digital Object Links</a>
					</li>
					<li>
						<a href="#accesspoints" title="Jump to help on adding and editing access points">Adding and Editing Access Points</a>
					</li>
					<li>
						<a href="#specialchar" title="Jump to help on adding special characters">Adding Special Characters</a>
					</li>
				</ul>
			</li>
		</ul>
	</div>
	<div id="help">
		<div>
			<a name="menu"></a>
			<h3 class="bar">Data Creation and Editing Menu</h3>
			<p>
				The data creation and editing interface allows you to create new EAD descriptions from scratch
				and to edit those already in your spoke database. You must have javascript enabled in order to 
				be able to use the editing interface. It is also recommended that you use Firefox 2 or higher 
				although Internet Explorer 7 or higher should also be okay.
			</p>
			<a name="create"> </a>
			<h4>Creating a New File</h4>
			<p>
				If you are creating a new file you will be presented with an empty EAD creation form to complete.
				You will notice that many of the buttons on the form are disabled. This is because it is not
				possible to perform those operations until you have saved the file. In order to save the file 
				you must have completed the Reference Code and the Title. There are some restrictions placed 
				on the Reference Code. You are not able to save a Reference Code which is the same as one
				indexed in your spoke database. If you try to save a Reference Code which is already present in the 
				draft file store you will be given the opportunity to cancel the operation and change the details.
			</p>
			<p>
				When you export the file (see <a href="#export">export operations</a>) the 
				EAD description from the draft file store is used to create a new record either in the data directory
				 (see <a href="#file">export to file only</a>) or in the data directory and
				in the live search data on your spoke (see <a href="#database">export to database and file</a>). 
				The new file in the data directory will be named using the persistent unique identifier for the 
				description with the '.xml' extension.
			</p>
			<a name="existing"> </a>
			<h4>Editing an Existing File</h4>
			<p>
				Existing files can be loaded into the editing interface from two locations. The data directory of 
				your spoke database or the draft file store. 
			</p>
				<a name="datadir"> </a>
				<h5>Editing Files from the Database</h5>
				<p>
					The main editing menu provides a list of all the files currently in your data directory. They will
					be listed by file name (which can be changed in the admin interface). 
					When you select one of these files to edit it is read from your data directory and the data is shown
					in the editing form at the same time a copy will be saved in the draft file store. You are not
					able to load a file for editing if there is already a copy assigned to your username in the 
					draft file store. If you want to start editing a file again and overwrite the changes you have 
					already made in the draft file store you must first delete the copy in the draft file store 
					(see <a href="#draftdel">deleting a file from the draft file store</a>).
					You will be alerted if you try and edit a file from the database if another user has already
					started editing it and has a copy in the draft file store. 					 
				</p>				
				<p>
					When you save the file (see <a href="#save">save file</a>) the changes will be 
					saved to the copy in the draft file store and will not affect the data directory or the data being
					searched on your spoke.
					When you export the file (see <a href="#export">export operations</a>) the 
					EAD description from the draft file store is used to replace the existing copy of your record either 
					just in the data directory (see <a href="#file">export to file only</a>) or in the data directory and
					in the live search data on your spoke (see <a href="#database">export to database and file</a>)
				</p>
				<a name="draft"> </a>
				<h5>Editing Files from the Draft File Store</h5>
				<p>
					The main editing menu provides a list of all the files currently in your draft file store.
					They are listed by user and only Administrative users can edit files belonging to other users.
					All the files in the draft file store will at some point have been created as new files or
					loaded in from the database and on export they will behave in the appropriate manner
					(see <a href="#create">creating a new file</a> and <a href="#datadir">editing files from the database</a>).
				</p>
			<a name="draftops"> </a>
			<h4>Draft File Store User Operations</h4>
			<p>
				The same two types of user are important in the data creation and editing interface as in the
				administration interface. General users can only edit and export files from the draft files store which are 
				assigned to them whereas Administrative users can edit and export files assigned to any user and can also 
				switch files between users. All users can see the names of all the EAD descriptions in the process
				of being edited or created by all users to help prevent problems with duplicate files.
			</p>
			<a name="draftdel"> </a>
				<h5>Deleting Files from the Draft File Store</h5>
				<p>
					To delete a file from the draft file store in the data creation and editing menu select the file using the
					radio button and click the delete button. You will be asked to confirm that you want to delete the file.
					Once the file has been deleted the data is not recoverable. No changes will be made to the spoke database 
					so if there is also a copy of the file in the database that will remain unchanged.
				</p>
				<p>
					General users are only able to delete files assigned to their user name. Administrative users may delete any
					files in the draft file store.
				</p>
			<a name="draftassign"> </a>
				<h5>Reassigning Draft Files (Administrative Users Only)</h5>
				<p>
					Administrative users are able to change the assignment of files between users. To do this first select
					the file to be reassigned using the radio button then select the user who you want to reassign the file too
					from the drop down menu. Once you have done this click the 'confirm reassignment' button which will reassign
					the file to the select user.
				</p>
			
		</div>

		<div>
			<a name="form"></a>
			<h3 class="bar">Using the Editing and Creation Form</h3>
			<p>
				This section describes many of the features of the editing and creation form for EAD descriptions. This information is relevant 
				whether you are creating a brand new file or editing an existing EAD description. This help document is not intended to provide 
				with EAD itself but rather the use of the Archives Hub data creation tool. Each EAD element on the form has this icon 
				<img src="/images/whatisthissmall.gif" alt="[What is this?]"/> which will take you to specific help for that element of EAD.
			</p>
			<p>
				The screen layout has several different sections as illustrated below. 			
			</p>
			<p>
				<img style="width:800px;" src="/images/overview.png" alt="[screenshot unavailable]"/>				
			</p>
			<p>
				<ul>
					<li>A - <a href="#file">file</a>, <a href="#preview">preview</a> and <a href="#export">export</a> operations</li>
					<li>B - <a href="#navtree">navigation tree</a></li>
					<li>C - <a href="#complete">data creation and editing form</a></li>
				</ul>
			</p>
			<a name="file"> </a>
			<h4>File Operations</h4>
			<a name="save"> </a>
			<h5>Save File</h5>
			<p>
				Saving a file saves all changes to the draft editing store. If you are saving a collection level file then you must complete
				the minimum requirement of reference code and title. If you are creating a new file there are also some restriction on the reference code 
				(see <a href="#create"> creating a new file</a>). Once you have saved a new file the page will reload and the preview and export options will
				become active, at this point you are also able to add components.
			</p>
			<p>
				Saving also checks whether the displayed section of the description is valid and highlights any missing fields (see ???)
			</p>
			<a name="delete"> </a>
			<h5>Delete File</h5>
			<p>
				If you wish to delete the currently loaded file you can click the 'delete' button. This operation
				will delete the file from the draft file store and the data will not be recoverable. It works in the
				same way as the delete option in the file menu (see <a href="#draftdel">deleting files from the draft file store</a>) 
				but deletes the file currently loaded into the data creation and editing interface and redirects you to the main menu.
			</p>			
			<a name="preview"> </a>
			<h4>Preview Operations</h4>
			<p>
				These operations allow you to preview the description you are creating or editing in different formats.
			</p>
			<a name="xml"> </a>
			<h5>Preview XML</h5>
			<p>
				This will show the EAD XML for the current description in your web browser. The back button will return you to 
				the data creation and editing interface and description you are working with. It will however return you to the
				collection level for that description even if you were viewing a component when you previewed the XML. Before
				showing the XML the description is saved so any changes to the current record are reflected.
			</p>
			<a name="online"> </a>
			<h5>Preview On-line Version</h5>
			<p>
				This will show you how the description will look when it is displayed on your spoke and on the central hub. As with the
				XML preview the back button will return you to 
				the data creation and editing interface and description you are working with. It will however return you to the
				collection level for that description even if you were viewing a component when you previewed the online version. Before
				showing the online version the description is saved so any changes to the current record are reflected.
			</p>	
			<a name="export"> </a>
			<h4>Export Operations</h4>
			<p>
				These operations export the descriptions from the draft file store into the main database.
			</p>
			<a name="file"> </a>
			<h5>Export to File Only</h5>
			<p>
				This operation writes the EAD XML of the current description to the data directory of your database.
				If this is a new description it will create an new file named using the persistent unique identifier for the 
				description with the '.xml' extension. If you have been editing an existing file the original version in 
				the data directory will be overwritten with the new one. The description will then be deleted from the 
				draft file store.
			</p>
			<p>
				This operation will <b>not</b> index the record so that it is available for immediate search and display in the spoke.
				In order for the description to be part of the spoke search you will need to rebuild the database from the admin
				interface. This is useful if you have a number of descriptions to edit and would rather just index them all 
				in one go, maybe overnight while there is less use of the spoke. If you wish to index the description immediately
				use the 'To File + Database' operation (see <a href="database">export to database and file</a>).
			</p>
			<a name="database"> </a>
			<h5>Export to Database and File</h5>
			<p>
				This operation writes the EAD XML of the current description to the data directory of your database <b>and</b> indexes the 
				description so it is available for immediate search and display in the spoke. If this is a new description it will create an new file named using the persistent unique identifier for the 
				description with the '.xml' extension and the persistent unique identifier will also provide the link to the display of the
				description should you wish to link to it from outside the spoke. If you have been editing an existing file the original version in 
				the data directory will be overwritten with the new one and the existing record in the database will be unindexed and replaced with the new one.
				The description will then be deleted from the draft file store.
			</p>	
			<p>
				Unindexing and indexing records may take some time. If you have a lot of files to edit and reindex it is recommeded
				that you first export them all using 'To File Only' and then rebuild the database from the admin menu (see <a href="#file">export to file only</a>).
			</p>
			<a name="navtree"> </a>
			<h4>Navigating through a Description</h4>
			<p>
				The navigation tree presents a hierarchical view of your EAD description. Clicking on any 
				part of the tree will display the relevant data in the form on the right. The part of the
				tree highlighted in yellow is that displayed in the form. The colour of the text in the tree is
				also relevant, black indicates that all of the fields required to submit the file to your database
				are complete, red indicates that some required fields have not been completed. If you click on a 
				component which is coloured red the missing fields will be indicated on the form with a red border.
			</p>	
			<p>
				It is important to note that each time you navigate between different levels of the record the file is saved even if you
				don't click the save button. 
			</p>
			<a name="complete"> </a>
			<h4>Completing the Form</h4>
			<p>
				In order to create or description you just need to add the data into the relevant sections of the form or edit what is there.
				For help on what each of the sections should contain you can click on the help links <img src="/images/whatisthissmall.gif" alt="[What is this?]"/>
				provided for each element of the form. The numbering of the form fields refers to the corresponding ISAD(G) rules.
			</p>		
			<p>
				There are three different classifications for elements in the data creation and editing form. Required elements
				(without which your description cannot be exported to the database) are indicated with a red borde as below:
			</p>
				<img src="/images/required.png" alt="[screenshot unavailable]"/>
			<p>
				 Recommended elements
				are those whose text boxes are ready for data to be entered when the form is loaded as below (note if you are editing an existing record
				any element containing data is presented in this way). 
			</p>
				<img src="/images/recommended.png" alt="[screenshot unavailable]"/>		
			<p>
				Optional fields do not have a text box when the form is loaded but clicking on the 'add content' link will show the text box 
				so that data can be entered. When the form is loaded and there is no content in the element it will look like this.
			</p>
				<img src="/images/optional.png" alt="[screenshot unavailable]"/>	
			<p>
				Many of the EAD fields allow further XML tags within them, to specify lists, a title, or different paragraphs. Several features are build into
				the form to help with entering these XML tags. You can enter tags either by typing them or using the right-click menu. If you right click on a field
				the menu will appear. Some of the options also have sub-menus as illustrated below.
			</p>
				<img src="/images/menu.png" alt="[screenshot unavailable]"/>
			<p>
				 Clicking on a tag type will enter the tag at the current cursor point ot if an area of
				text is selected it will enclose the selected text inside the tags.
			</p>
			<p>
				If invalid XML is entered into a field, such as mismatched opening and closing tags, the background 
				of the field will go red. If there is any invalid XML present in the form you will not be able to perform any
				actions such as saving, previewing or adding a component and you will not be able to navigate to another part of the record.
			</p>
				<img src="/images/invalidxml.png" alt="[screenshot unavailable]"/>
			<p>
				When the XML is corrected the field will go white again. This will take a few second after you have stopped typing.
			</p>
			<a name="addlang"> </a>
			<h4>Adding and Editing Language of Material</h4>
			<p>
				This works in the same way as adding <a href="#accesspoints">access points</a>.
			</p>				
			<a name="addcomp"> </a>
			<h4>Adding Components</h4>
			<p>
				Once the collection level description has been saved components can be added by clicking on the 
				'Add Component' button. The component will be added to whichever section of the description is 
				currently selected. The Reference Code will be filled in automatically based on the details
				of the parent component but these details can all be edited if required. The Reference Code and
				Title will be updated on the navigation tree as changes are made in the form.
			</p>
			<p>
				Following the EAD tag library components may only be created to a maximum depth of 12.
			</p>
			<a name="delcomp"> </a>
			<h4>Deleting Components</h4>
			<p>
				Components can be deleted by clicking on the delete icon <img src="/images/delete.png" alt="[delete icon]"/>
				next to the relevant component in the navigation tree. You will receive a warning message confirming the 
				reference code and title of the component to be deleted. If you click 'ok' to delete the component
				the data will be permanently lost. Only components which do not themselves have components can be deleted.
			</p>	
			<a name="dao"></a>
			<h4>Adding Digital Object Links</h4>
			<p>
				To add a link to a digital object you need to first select what kind of link you want to create.
				Once you have clicked a radio button the relevant form will appear for you to complete. If you wish to 
				change to a different type of link you can select a different radio button and the form will change.
				In each case the required fields are always the URI fields which provide the link to the location where
				your digital object is hosted. 
			</p>		
			<a name="accesspoints"></a>
			<h4>Adding and Editing Access Points</h4>
			<p>
				Access Points can be added to the record by completing the relevant section of the form. 
			</p>
			<p>	
				There are two compulsory elements for each access point. 
				<ul>
					<li>The main content of the access point itself such as 'subject' for a subject 
					access point or 'surname' for a personal or family name access point.</li>
					<li>Either 'source' (or thesaurus in the case of subject) <b>or</b> 'rules'. Only one of 
					these may be entered.</li>
				</ul>
			</p>
			<p>
				The source (or thesaurus) should be entered into the relevant text box and rules should be 
				selected from the drop down menu. If a a rule set is selected the source button will not be
				visible. If you wish to add a source rather than a rule set then you must first select 'None' 
				in the rules drop down menu and the source box will reappear. 
			</p>	
			<p>
				Other information required by the source or rule set you are following can be added using the 
				drop down menu underneath the compulsory boxes on the form. Select the kind of data you want to 
				add, such as 'Dates', and then click on the 'Add Selected Field' link. This will add another 
				text box to the form and the data can be entered. If you wish to delete any of this additional 
				information you can click on the delete icon <img src="/images/delete.png" alt="[delete icon]"/> 
				next to the text box. If there are two of more pieces of addition information added to an access 
				point they can be reordered if necessary by dragging the label to the correct position. At any 
				stage the access point can be reset using the 'reset' button. This will delete all of the information
				in the current text boxes and delete any added fields.		
			</p>
			<p>
				Once the information is completed the access point needs to be added to the record. If this is
				not done the details will not be added to your description and will be lost. To add the access point
				click on the 'Add to Record' button. This will put the details of the access point in a grey box
				underneath the access point heading and the details will be added to your record. Unwanted access 
				points can be deleted using the delete icon or edited by clicking on the text. Clicking on the text
				will return the details to the form so they can be edited. If you do this any details already in the 
				form fields will be overwritten so if you have details in the form already which you want to keep they 
				must be added to the record before you try to edit an existing access point.
			</p>
			<p>The following access points are supported by the form but any others present in descriptions 
				being edited will not be lost:
				<ul>
					<li>Subject</li>
					<li>Personal Name</li>
					<li>Family Name</li>
					<li>Corporate Name</li>
					<li>Place Name</li>
					<li>Book Title</li>
					<li>Genre Form</li>
					<li>Function</li>
				</ul>
			</p>
			<p>
				Punctuation is automatically added to the access points where relevant. It is therefore important
				that you do not add punctuation at the beginning and end of the text boxes. If however the data
				you are entering or the rule set you are following require punctuation in the middle of a field this should
				be added.				
			</p>
			<p>
				This is an example of an incorrectly entered Personal Name with the punctuation present at the beginning and end of the fields.
			</p>
				<img src="/images/persnameincorrect.png" alt="[screenshot unavailable]"/>
			<p>
				This is an example of an correctly entered Personal Name with no puctuation other than the - between the dates.
			</p>
				<img src="/images/persnamecorrect.png" alt="[screenshot unavailable]"/>
			<p>
				The latter example will appear like this when viewed on the spoke or the hub.
			</p>
				<img src="/images/previewpersname.png" alt="[screenshot unavailable]"/>
			
			<p>
				This is also correct as AACR2 requires all of the information for Place Name to be in the same field so punctuation is required.
			</p>
				<img src="/images/placename.png" alt="[screenshot unavailable]"/>
			<a name="specialchar"> </a>
			<h4>Adding Special Characters</h4>
			<p>
				Special characters can either be added using their numerical code such as <b>&amp;#233;</b>
				for <b>&#233;</b> or using the onscreen keyboard provided with the interface. Name codes 
				such as <b>&amp;eacute;</b> cannot be used. 
			</p>
			<p>
				The keyboard can be accessed by clicking on the 'Character Keyboard' link on the navigation
				bar (clicking a second time will remove it) or the 'keyboard on/off' option on the right 
				click menu in the form fields. Once the keyboard is visible on the screen it can be minimised,
				maximised and closed using the icons in the top right corner. The 'Caps Lock' button switches
				the characters between lower-case and upper-case. To enter a character into the form simply 
				click on the field you wish to enter it into and then click the character on the keyboard.
				To check which field the character will appear in click the 'Which field?' link.
			</p>

		</div>
	</div>
	
	
</div>